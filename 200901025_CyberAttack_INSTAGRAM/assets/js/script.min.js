"use strict"; const nav = document.querySelector(".mobile-nav"), navMenuBtn = document.querySelector(".nav-menu-btn"), navCloseBtn = document.querySelector(".nav-close-btn"), navToggleFunc = function () { nav.classList.toggle("active") }; navMenuBtn.addEventListener("click", navToggleFunc), navCloseBtn.addEventListener("click", navToggleFunc); const themeBtn = document.querySelectorAll(".theme-btn"); for (let i = 0; i < themeBtn.length; i++)themeBtn[i].addEventListener("click", (function () { document.body.classList.toggle("light-theme"), document.body.classList.toggle("dark-theme"); for (let i = 0; i < themeBtn.length; i++)themeBtn[i].classList.toggle("light"), themeBtn[i].classList.toggle("dark") }));

function toggleTextMode() {
  var imgs = document.getElementsByTagName("img");

  for (var i = 0; i < imgs.length; i++) {
    if (imgs[i].style.display != "none") {
      imgs[i].style.display = "none";
    } else {
      imgs[i].style.display = "block";
    }

  }

}


const batteryOptimizedBtn = document.getElementById("batteryOptimizedBtn");

function optimizeBattery() 
{
  navigator.getBattery()
    .then((battery) => {
      // Check battery level and switch to battery optimized mode if necessary
      // ...
      if (battery.level < 0.1) {
        // Switch to battery optimized mode
        document.body.classList.toggle('light-theme');
        document.body.classList.toggle('dark-theme');
        var imgs = document.getElementsByTagName("img");
        for (var i = 0; i < imgs.length; i++) {
          if (imgs[i].style.display != "none") {
            imgs[i].style.display = "none";
          } else {
            imgs[i].style.display = "block";
          }

        }

      }
      else if (battery.level < 0.99) {
        // Switch to battery optimized mode
        document.body.classList.toggle('light-theme');
        document.body.classList.toggle('dark-theme');
        var imgs = document.getElementsByTagName("img");
        for (var i = 0; i < imgs.length; i++) {
          if (imgs[i].style.display != "none") {
            imgs[i].style.display = "none";
          } else {
            imgs[i].style.display = "block";
          }

        }

      } 
      else {
        // Switch back to normal mode
        document.body.style.backgroundColor = "";
        document.body.style.color = "";
        document.querySelectorAll("h1, h2, h3, h4, h5, h6, p").forEach((element) => {
          element.style.color = "";
        });
        document.querySelectorAll("img").forEach((element) => {
          element.style.display = "";
        });
      }
    })
    .catch((error) => {
      console.error(error);
    });
}


// When the user scrolls down 20px from the top of the document, show the button
window.onscroll = function () { scrollFunction() };

function scrollFunction() {
  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
    document.getElementById("myBtn").style.display = "block";
  } else {
    document.getElementById("myBtn").style.display = "none";
  }
}

// When the user clicks on the button, scroll to the top of the document
function topFunction() {
  document.body.scrollTop = 0; // For Safari
  document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
}

